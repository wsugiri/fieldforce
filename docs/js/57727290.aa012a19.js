(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["57727290"],{"4d57":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-stores"},[n("q-card",[n("q-card-main",[n("q-icon",{attrs:{name:"fa fa-store"}}),t._v("\n      "+t._s("Total Store: "+t.list.length)+"\n    ")],1)],1),t._l(t.list,function(e,r){return n("q-card",{key:r},[n("q-card-main",{staticClass:"text-weight-light"},[n("div",{staticClass:"store store-name text-weight-medium"},[n("q-icon",{attrs:{name:"fa fa-building"}}),t._v("\n        "+t._s(e.store_name)+"\n      ")],1),n("div",{staticClass:"store store-location"},[n("q-icon",{attrs:{name:"fa fa-map"}}),t._v("\n        "+t._s(e.area_manage)+"\n      ")],1),n("div",{staticClass:"store store-location"},[n("q-icon",{attrs:{name:"fa fa-map-marker"}}),t._v("\n        "+t._s(e.region_name)+"\n      ")],1),e.last_visit?n("div",{staticClass:"store store-last-visit text-italic"},[n("q-icon",{attrs:{name:"fa fa-calendar-check"}}),t._v("\n        "+t._s(e.last_visit)+"\n      ")],1):t._e(),e.dirty?n("div",{staticClass:"store text-italic text-warning"},[n("q-icon",{attrs:{name:"fa fa-info"}}),t._v("\n        pending sync\n      ")],1):t._e(),n("q-btn",{staticStyle:{"margin-top":"10px"},attrs:{color:"primary"},on:{click:function(n){t.detail(e)}}},[t._v("Detail")])],1)],1)})],2)},a=[];r._withStripped=!0;n("96cf");var i=n("c973"),s=n.n(i),o=n("5014"),c={data:function(){return{opened:!1,model:{},store:{},list:[]}},created:function(){this.refresh()},methods:{refresh:function(){var t=s()(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].list();case 2:e=t.sent,this.list=e;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),detail:function(t){this.$router.push("/stores/".concat(t.store_id))}}},u=c,f=(n("5d06"),n("d48f"),n("2877")),l=Object(f["a"])(u,r,a,!1,null,"9637d86e",null);l.options.__file="stores.vue";e["default"]=l.exports},5014:function(t,e,n){"use strict";n("ac6a"),n("cadf"),n("456d"),n("7514"),n("96cf");var r=n("c973"),a=n.n(r),i=(n("551c"),n("f61f")),s=i["a"].init(),o=s.axios,c="data-stores",u={stores:function(){var t=localStorage.getItem(c);return t?JSON.parse(t):[]},setStores:function(t){localStorage.setItem(c,JSON.stringify(t))}},f=function(t){return new Promise(function(){var e=a()(regeneratorRuntime.mark(function e(n,r){var a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.post("activityvisit",t.visit);case 3:a=e.sent,i=a.data,t.visit.id=i.id,t.dirty=0,n(i),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),r(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t,n){return e.apply(this,arguments)}}())};e["a"]={list:function(){return new Promise(function(){var t=a()(regeneratorRuntime.mark(function t(e,n){var r,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,r=u.stores(),!navigator.onLine||r.length){t.next=8;break}return a="stores/store_allocate_mobile",t.next=6,o.get(a);case 6:i=t.sent,u.setStores(i.data.list);case 8:e(u.stores()),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),n(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));return function(e,n){return t.apply(this,arguments)}}())},findById:function(t){return new Promise(function(e,n){try{var r=u.stores(),a=r.filter(function(e){return e.store_id===t});e(a[0])}catch(t){n(t)}})},update:function(t){return new Promise(function(){var e=a()(regeneratorRuntime.mark(function e(n,r){var a,i,s,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,a=u.stores(),i=a.find(function(e){return e.store_id===t.store_id}),i)for(s=Object.keys(t),o=0;o<s.length;o+=1)c=s[o],i[c]=t[c];if(!i.visit||!navigator.onLine){e.next=7;break}return e.next=7,f(i);case 7:u.setStores(a),n(i),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),r(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t,n){return e.apply(this,arguments)}}())}}},"54c2":function(t,e,n){},"5d06":function(t,e,n){"use strict";var r=n("f107"),a=n.n(r);a.a},d48f:function(t,e,n){"use strict";var r=n("54c2"),a=n.n(r);a.a},f107:function(t,e,n){}}]);